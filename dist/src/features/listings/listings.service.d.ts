import { SubscriptionsService } from '../subscriptions/subscriptions.service';
import { Repository } from 'typeorm';
import { ListingsRepository } from './listings.repository';
import { CreateListingDto, UpdateListingDto } from './dto';
import { QueryListingDto, SearchListingDto } from './dto/query-listing.dto';
import { Listing, ListingStatusEnum, ListingAvailabilityEnum } from './entities/listing.entity';
import { ListingResponseDto, ListingSummaryDto, PaginatedListingsResponseDto } from './dto/response-listing.dto';
import { BreedsService } from '../breeds/breeds.service';
import { UsersService } from '../accounts/users.service';
import { ActivityLogsService } from '../accounts/activity-logs.service';
import { Payment } from '../payments/entities/payment.entity';
import { Subscription } from '../subscriptions/entities/subscription.entity';
import { EmailService } from '../email/email.service';
import { ConfigService } from '@nestjs/config';
export declare class ListingsService {
    private readonly listingsRepository;
    private readonly breedsService;
    private readonly usersService;
    private readonly activityLogsService;
    private readonly subscriptionsService;
    private readonly paymentRepository;
    private readonly subscriptionRepository;
    private readonly listingRepository;
    private readonly emailService;
    private readonly configService;
    constructor(listingsRepository: ListingsRepository, breedsService: BreedsService, usersService: UsersService, activityLogsService: ActivityLogsService, subscriptionsService: SubscriptionsService, paymentRepository: Repository<Payment>, subscriptionRepository: Repository<Subscription>, listingRepository: Repository<Listing>, emailService: EmailService, configService: ConfigService);
    createListing(createListingDto: CreateListingDto, userId: string, ipAddress?: string, userAgent?: string): Promise<ListingResponseDto>;
    updateListing(userId: string, listingId: string, updateListingDto: UpdateListingDto): Promise<ListingResponseDto>;
    updateAvailability(userId: string, listingId: string, availability: ListingAvailabilityEnum): Promise<ListingResponseDto>;
    publishListing(userId: string, listingId: string): Promise<ListingResponseDto>;
    deleteListing(userId: string, listingId: string): Promise<void>;
    getListingById(listingId: string, incrementView?: boolean, userId?: string): Promise<ListingResponseDto>;
    getUserListings(userId: string, options?: {
        status?: ListingStatusEnum;
        includeExpired?: boolean;
        includeDrafts?: boolean;
    }): Promise<ListingSummaryDto[]>;
    searchListings(searchDto: SearchListingDto): Promise<PaginatedListingsResponseDto>;
    getListings(queryDto: QueryListingDto): Promise<PaginatedListingsResponseDto>;
    getAdminListings(queryDto: QueryListingDto): Promise<PaginatedListingsResponseDto>;
    getFeaturedListings(limit?: number): Promise<ListingSummaryDto[]>;
    getPremiumListings(limit?: number): Promise<ListingSummaryDto[]>;
    incrementFavoriteCount(listingId: string): Promise<void>;
    decrementFavoriteCount(listingId: string): Promise<void>;
    incrementContactCount(listingId: string): Promise<void>;
    getListingStats(userId?: string): Promise<{
        total: number;
        active: number;
        draft: number;
        expired: number;
        featured: number;
        premium: number;
    }>;
    private validateListingTypeAndCategory;
    private processListingFields;
    private calculateExpirationDate;
    private validateRequiredFields;
    private transformToListingResponse;
    private transformToListingSummary;
    syncListingSubscriptionStatus(userId: string, listingId: string): Promise<ListingResponseDto>;
    reactivateListing(userId: string, listingId: string, subscriptionId?: string): Promise<ListingResponseDto>;
    checkAndUpdateExpiredListings(): Promise<void>;
    approveListing(listingId: string): Promise<ListingResponseDto>;
    rejectListing(listingId: string, reason?: string): Promise<ListingResponseDto>;
    sendListingPendingReviewEmail(listing: Listing): Promise<void>;
    sendListingApprovedEmail(listing: Listing): Promise<void>;
    sendListingApprovedAdminEmail(listing: Listing): Promise<void>;
    private getListingTypeDisplayName;
}
